<div class="header" *ngIf="liveData.length > 0">
    <div class="stock-names">
        <ng-container *ngFor="let data of liveData; index as i">
            <h1 
                [ngClass]="i == activeIndex ? 'active' : ''"
                (click)="activeIndex = i; changeIndex()"
            >{{data.symbol}}</h1>
        </ng-container>
    </div>
    <div class="arrows">
        <fa-icon [ngClass]="activeIndex == 0 ? 'hide' : ''" (click)="changeIndex(false)" [icon]="faArrowLeft"></fa-icon>
        <fa-icon [ngClass]="activeIndex == stockData.length-1 ? 'hide' : ''" (click)="changeIndex(true)" [icon]="faArrowRight"></fa-icon>
    </div>
</div>
<div class="main" *ngIf="liveData.length > 0 && stockData.length > 0">
    <div class="live grid-item">
        <h2>${{ liveData[activeIndex].currentValue | number : '1.2-2'}}</h2>
    </div>
    <div class="news grid-item">
        <div class="image" *ngIf="newsImg">
            <img [src]="newsImg" alt="news_img">
        </div>
        <div class="headline" *ngIf="newsUrl"><a [href]="newsUrl">{{newsHeadline}}</a></div>
    </div>
    <div id="historical" class="historical grid-item">
        <div class="inner">
            <div id="graph"><!-- Plotly graph is set inside here --></div>
        </div>
    </div>
    <div class="sidebar grid-item">
        <div class="content" *ngIf="currentHistoricalData[0]">
            <h3>{{stockData[activeIndex].name}}</h3>
            <div class="item">
                <h4>Open</h4>
                <p>${{currentHistoricalData[0].open | number : '1.2-2'}}</p>
            </div>
            <div class="item">
                <h4>Close</h4>
                <p>${{currentHistoricalData[0].close | number : '1.2-2'}}</p>
            </div>
            <div class="item">
                <h4>High</h4>
                <p>${{currentHistoricalData[0].high | number : '1.2-2'}}</p>
            </div>
            <div class="item">
                <h4>Low</h4>
                <p>${{currentHistoricalData[0].low | number : '1.2-2'}}</p>
            </div>
        </div>
    </div>
</div>
<div class="default" *ngIf="stockData.length == 0">
    <div class="nodata">
        <h1>No Stocks Found</h1>
        <p>Looking for some stock data? Go over to settings and add a stock</p>
        <button routerLink="/dashboard/settings">Go to Settings</button>
    </div>
</div>